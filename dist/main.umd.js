!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).base64url={})}(this,(function(e){"use strict";const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";let n=new Uint8Array(256);for(let e=0;e<64;e++)n[t.charCodeAt(e)]=e;const r=/^([0-9a-zA-Z\-_]{4})*([0-9a-zA-Z\-_]{3}=?)?$/;e.decode=function(e){if(!r.test(e))throw new Error("Invalid base64url string");const t=e.length,o="="===e.charAt(t-2)?2:"="===e.charAt(t-1)?1:0;let s=new ArrayBuffer(3*t/4-o),c=new Uint8Array(s),i=0;for(let r=0;r<t;r+=4){let t=n[e.charCodeAt(r)],o=n[e.charCodeAt(r+1)],s=n[e.charCodeAt(r+2)],a=n[e.charCodeAt(r+3)];c[i++]=t<<2|o>>4,c[i++]=(15&o)<<4|s>>2,c[i++]=(3&s)<<6|63&a}return s},e.encode=function(e){let n=new Uint8Array(e);const r=n.length;let o="";for(let e=0;e<r;e+=3)o+=t[n[e]>>2],o+=t[(3&n[e])<<4|n[e+1]>>4],o+=t[(15&n[e+1])<<2|n[e+2]>>6],o+=t[63&n[e+2]];switch(r%3){case 1:o=o.substring(0,o.length-2);break;case 2:o=o.substring(0,o.length-1)}return o}}));
//# sourceMappingURL=main.umd.js.map
