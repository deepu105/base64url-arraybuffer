!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).base64url={})}(this,(function(e){"use strict";const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";let n=new Uint8Array(256);for(let e=0;e<64;e++)n[t.charCodeAt(e)]=e;const r=/^([0-9a-zA-Z\-_]{4})*([0-9a-zA-Z\-_]{3}=?)?$/;e.arrayBufferToString=function(e){return(new TextDecoder).decode(e)},e.decode=function(e,t){if(!t&&!r.test(e))throw new Error("Invalid base64url string");const o=e.length,c="="===e.charAt(o-2)?2:"="===e.charAt(o-1)?1:0;let f=new ArrayBuffer(3*o/4-c),i=new Uint8Array(f),a=0;for(let t=0;t<o;t+=4){let r=n[e.charCodeAt(t)],o=n[e.charCodeAt(t+1)],c=n[e.charCodeAt(t+2)],f=n[e.charCodeAt(t+3)];i[a++]=r<<2|o>>4,i[a++]=(15&o)<<4|c>>2,i[a++]=(3&c)<<6|63&f}return f},e.encode=function(e){let n=new Uint8Array(e);const r=n.length;let o="";for(let e=0;e<r;e+=3)o+=t[n[e]>>2],o+=t[(3&n[e])<<4|n[e+1]>>4],o+=t[(15&n[e+1])<<2|n[e+2]>>6],o+=t[63&n[e+2]];switch(r%3){case 1:o=o.substring(0,o.length-2);break;case 2:o=o.substring(0,o.length-1)}return o},e.stringToArrayBuffer=function(e){return(new TextEncoder).encode(e).buffer}}));
//# sourceMappingURL=main.umd.js.map
